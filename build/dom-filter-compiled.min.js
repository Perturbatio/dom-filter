"use strict";var DomFilter=function(){babelHelpers.createClass(e,[{key:"getLangStrings",value:function n(e){var n=this;e=e||n._defaultLang;if(typeof e!=="string"||!n.strings.hasOwnProperty(e)){return{}}return n.strings[e]}},{key:"strings",get:function t(){var n=this;if(typeof n._strings==="undefined"){n._strings=e._getDefaultLangStrings()}return n._strings},set:function i(e){this._strings=e}},{key:"defaultLanguage",get:function r(){var e=this;if(typeof e._defaultLang!=="string"){e._defaultLang="en"}return e._defaultLang},set:function a(e){if(typeof e==="string"){this._defaultLang=e}}},{key:"feedbackElement",get:function f(){return this.filterContainer.querySelector(this._config.feedbackElement)},set:function l(e){this._config.feedbackElement=e}}],[{key:"_getDefaultLangStrings",value:function o(){return{en:{feedback:{no_results:"No results",default_feedback_message:""},input:{placeholder:"Filter",label:"Filter this list:"}}}}}]);function e(n){babelHelpers.classCallCheck(this,e);var t=this;t._config=n||{};t._initialConfig=t._config;t._defaultLang=n.defaultLanguage||"en";if(typeof t._config.strings!=="undefined"){t.strings=t._config.strings}t._config.feedbackElement=t._config.feedbackElement||".feedback";t._config.containerClass=t._config.containerClass||"element-filter";t._config.filterTemplate=t._config.filterTemplate||'<div class="'+t._config.containerClass+'">'+'<label>{{input.label}}<input type="text" placeholder="{{input.placeholder}}"></label>'+'<div class="feedback"></div>'+"</div>";t._config.inputElement=t._config.inputElement||".element-filter input";t._filterNodes=document.querySelectorAll(t._config.filterNodes);t._hideFunction=t._config.hideFunction||e._fnHideNodes;t._showFunction=t._config.showFunction||e._fnShowNodes;t._matchFunction=t._config.matchFunction||e._fnMatchNode;t.createFilterElement();t.registerListeners()}babelHelpers.createClass(e,[{key:"registerListeners",value:function c(){var e=this;e.inputElement.addEventListener("keypress",function(n){return e._onFilterChange(n)});e.inputElement.addEventListener("change",function(n){return e._onFilterChange(n)});e.inputElement.addEventListener("input",function(n){return e._onFilterChange(n)})}},{key:"_onFilterChange",value:function u(e){var n=this,t=typeof n.inputElement.value!=="undefined"?n.inputElement.value.trim():n.inputElement.innerText.trim();n._showFunction(n._filterNodes);this.filter(t)}},{key:"filter",value:function s(e){var n=this,t,i;if(e.length>0){t=[].filter.call(n._filterNodes,function(t){return n._matchFunction(t,e)});i=n._getUnmatchedNodes(n._filterNodes,t);n._showFunction(t);n._hideFunction(i);if(t.length<1){n.feedback(n._strings[n.defaultLanguage].feedback.no_results)}else{n.feedback(n._strings[n.defaultLanguage].feedback.default_feedback_message)}}else{n.feedback(n._strings[n.defaultLanguage].feedback.default_feedback_message)}}},{key:"feedback",value:function d(e){if(typeof this.feedbackElement!=="undefined"&&this.feedbackElement){this.feedbackElement.innerHTML=e}}},{key:"_getUnmatchedNodes",value:function g(e,n){var t=[];[].forEach.call(e,function(e){if(![].find.call(n,function(n){return n===e})){t.push(e)}});return t}},{key:"createFilterElement",value:function _(){var n=this,t,i,r,a;t=e._createNodes(n.replaceStrings(n._config.filterTemplate,n.getLangStrings()));if(typeof n._config.insertBefore!=="undefined"){r=document.querySelector(n._config.insertBefore);r.parentNode.insertBefore(t,r)}else if(typeof n._config.insertAfter!=="undefined"){a=document.querySelector(n._config.insertAfter);e._insertAfter(t,a)}else if(typeof n._config.appendTo!=="undefined"){i=document.querySelector(n._config.appendTo);i.appendChild(t)}if(n.filterContainer){n.filterContainer.parentNode.removeChild(n.filterContainer)}n.filterContainer=t;n.inputElement=t.querySelector(n._config.inputElement)}},{key:"replaceStrings",value:function p(e,n){e=e||"";var t=/({{([A-Za-z]+[A-Za-z0-9]*?(\.(?=[A-Za-z])){0,1})+}})/gi;return e.replace(t,function(e){e=e.replace("{{","").replace("}}","");return e.split(".").reduce(function(e,n){return e[n]},n)})}}],[{key:"_fnShowNodes",value:function h(e){[].forEach.call(e,function(e){e.removeAttribute("aria-hidden")})}},{key:"_fnHideNodes",value:function m(e){[].forEach.call(e,function(e){e.setAttribute("aria-hidden",true)})}},{key:"_fnMatchNode",value:function k(e,n){n=n.toLocaleLowerCase();return e.innerText.toLocaleLowerCase().indexOf(n)>-1}},{key:"_insertAfter",value:function v(e,n){var t=n.nextSibling;if(typeof t!=="undefined"){n.parentNode.insertBefore(e,t)}else{n.parentNode.appendChild(e)}}},{key:"_createNodes",value:function y(e){var n=document.createElement("template");n.innerHTML=e;return n.content.firstChild}}]);return e}();
//# sourceMappingURL=/home/kris/workspace/dom-filter/build/dom-filter-compiled-compiled.min.js.map